<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    
    <style>
        .grid-container {
            display: grid;
            grid-template-columns: auto auto auto auto;
            padding: 40px;
            grid-template-rows: auto auto auto auto;
            border-radius: 10px;
            grid-column-gap: 10px;
            grid-row-gap: 25px;
            background-color: black;
        }
        h1 {
            font-weight: bold;
            color: rgb(201, 37, 37);
                        
        }
        .sidebar{
            display: grid;
            grid-template-columns: auto;
            grid-template-rows: auto auto auto auto;
            background-color: black;
            grid-row-gap: 25px;
            padding: 40px;
        }
        #scoreDisplay{
            grid-row-start:1;
            grid-row-end:5;
            grid-column: 1;
        }
        

    </style>
</head>
<script>

    let arr = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16];
    var flipCounter = 0;
    var prevNum = 0;
    var tempNum3 = 0;
    var timedOut = false;

    function initialize() {
        randomize();
        score = 0;
        display(0);
        flipped1 = false;
        flipped2 = false;
        flipped3 = false;
        flipped4 = false;
        flipped5 = false;
        flipped6 = false;
        flipped7 = false;
        flipped8 = false;
        flipped9 = false;
        flipped10 = false;
        flipped11 = false;
        flipped12 = false;
        flipped13 = false;
        flipped14 = false;
        flipped15 = false;
        flipped16 = false;
    
    }
    function isEven (num) {
        if(num % 2 == 0){
            return true;
        }
        return false;
    }

    function randomize() {
        var score = 0;
        x = 100;
        while(x > 0) {
        var randomNum = Math.floor(Math.random() * arr.length);
        var randomNum2 = Math.floor(Math.random() * arr.length);
        var tempNum = arr[randomNum];
        var tempNum2 = arr[randomNum2];
        while (tempNum == tempNum2) {
            randomNum2 = Math.floor(Math.random() * arr.length);
            tempNum2 = arr[randomNum2];
        }
        arr[randomNum] = tempNum2;
        arr[randomNum2] = tempNum;
        // const tempNum2 = Math.floor(Math.random() * arr.length);
        x--;
        }
        console.log(arr);
    }

    function revealImage(num) {
        
        if (!timedOut) {
            if (flipCounter == 1 || flipCounter == 2) {
            timedOut = true;
            setTimeout(timedIn, 500);
            console.log(timedOut);
            }
        if (flipCounter == 0) {
            prevNum = num;
        }   
        tempNum3 = num;
        if (arr[num] == 1 || arr[num] == 2) {
            tempText = "mushroom.png"
        }
        if (arr[num] == 3 || arr[num] == 4) {
            tempText = "fireflower.png"
        }
        if (arr[num] == 5 || arr[num] == 6) {
            tempText = "iceflower.png"
        }  
        if (arr[num] == 7 || arr[num] == 8) {
            tempText = "leaf.png"
        } 
        if (arr[num] == 9 || arr[num] == 10) {
            tempText = "lifemushroom.png"
        }
        if (arr[num] == 11|| arr[num] == 12) {
            tempText = "penguin.png"
        }
        if (arr[num] == 13 || arr[num] == 14) {
            tempText = "propeller.png"
        }  
        if (arr[num] == 15 || arr[num] == 16) {
            tempText = "star.png"
        }   
        
        if (num == 0) {
            if (!flipped1) {
            score++;
            flipCounter++;
            flipped1 = true;
            }
        let card1 = document.getElementById("grid1");
        card1.src = tempText;   
        }
        if (num == 1) {
            if (!flipped2) {
            score++;
            flipCounter++;
            flipped2 = true;
            }
        let card2 = document.getElementById("grid2");
        card2.src = tempText;   
        }
        if (num == 2) {
            if (!flipped3) {
            score++;
            flipCounter++;
            flipped3 = true;
            }
        let card3 = document.getElementById("grid3");
        card3.src = tempText;  
        }
        if (num == 3) {
            if (!flipped4) {
            score++;
            flipCounter++;
            flipped4 = true;
            }
        let card4 = document.getElementById("grid4");
        card4.src = tempText;   
        }
        if (num == 4) {
            if (!flipped5) {
            score++;
            flipCounter++;
            flipped5 = true;
            }
        let card5 = document.getElementById("grid5");
        card5.src = tempText;   
        }
        if (num == 5) {
            if (!flipped6) {
            score++;
            flipCounter++;
            flipped6 = true;
            }
        let card6 = document.getElementById("grid6");
        card6.src = tempText;   
        }
        if (num == 6) {
            if (!flipped7) {
            score++;
            flipCounter++;
            flipped7 = true;
            }
        let card7 = document.getElementById("grid7");
        card7.src = tempText;   
        }
        if (num == 7) {
            if (!flipped8) {
            score++;
            flipCounter++;
            flipped8 = true;
            }
        let card8 = document.getElementById("grid8");
        card8.src = tempText;   
        }
        if (num == 8) {
            if (!flipped9) {
            score++;
            flipCounter++;
            flipped9 = true;
            }
        let card9 = document.getElementById("grid9");
        card9.src = tempText;   
        }
        if (num == 9) {
            if (!flipped10) {
            score++;
            flipCounter++;
            flipped10 = true;
            }
        let card10 = document.getElementById("grid10");
        card10.src = tempText;   
        }
        if (num == 10) {
            if (!flipped11) {
            score++;
            flipCounter++;
            flipped11 = true;
            }
        let card11 = document.getElementById("grid11");
        card11.src = tempText;   
        }
        if (num == 11) {
            if (!flipped12) {
            score++;
            flipCounter++;
            flipped12 = true;
            }
        let card12 = document.getElementById("grid12");
        card12.src = tempText;   
        }
        if (num == 12) {
            if (!flipped13) {
            score++;
            flipCounter++;
            flipped13 = true;
            }
        let card13 = document.getElementById("grid13");
        card13.src = tempText;   
        }
        if (num == 13) {
            if (!flipped14) {
            score++;
            flipCounter++;
            flipped14 = true;
            }
        let card14 = document.getElementById("grid14");
        card14.src = tempText;   
        }
        if (num == 14) {
            if (!flipped15) {
            score++;
            flipCounter++;
            flipped15 = true;
            }
        let card15 = document.getElementById("grid15");
        card15.src = tempText;   
        }
        if (num == 15) {
            if (!flipped16) {
            score++;
            flipCounter++;
            flipped16 = true;
            }
        let card16 = document.getElementById("grid16");
        card16.src = tempText;   
        }
        
        if (flipCounter == 2) {
            console.log("Previous Number: " + prevNum);
            console.log("Current Number: " + num);
            console.log("Card 1: " + arr[prevNum]);
            console.log("Card 2: " + arr[num]);
            if ((isEven(arr[prevNum]) && arr[prevNum] - 1 == arr[num]) || (!isEven(arr[prevNum]) && arr[prevNum] + 1 == arr[num])) {
                console.log("matching!");   
                flipCounter = 0;
            }   else    {
                flipCounter = 0;
                setTimeout(flipCards, 400);
            }
            
            //use index of original array to match cards
        
            flipCounter = 0;
        }  

        console.log(timedOut);
        display();
    }
    }

    function timedIn() {
        timedOut = false;
        console.log(timedOut);
    }
    function flipCards() {
        if (prevNum == 0|| tempNum3 == 0) {
                let card1 = document.getElementById("grid1");
                card1.src = "image1.gif";
                flipped1 = false;
            }
            if (prevNum == 1|| tempNum3 == 1) {
                let card2 = document.getElementById("grid2");
                card2.src = "image1.gif";
                flipped2 = false;
            }
            if (prevNum == 2|| tempNum3 == 2) {
                let card3 = document.getElementById("grid3");
                card3.src = "image1.gif";
                flipped3 = false;
            }
            if (prevNum == 3 || tempNum3 == 3) {
                let card4 = document.getElementById("grid4");
                card4.src = "image1.gif";
                flipped4 = false;
            }
            if (prevNum == 4|| tempNum3 == 4) {
                let card5 = document.getElementById("grid5");
                card5.src = "image1.gif";
                flipped5 = false;
            }
            if (prevNum == 5|| tempNum3 == 5) {
                let card6 = document.getElementById("grid6");
                card6.src = "image1.gif";
                flipped6 = false;
            }
            if (prevNum == 6|| tempNum3 == 6) {
                let card7 = document.getElementById("grid7");
                card7.src = "image1.gif";
                flipped7 = false;
            }
            if (prevNum == 7 || tempNum3 == 7) {
                let card8 = document.getElementById("grid8");
                card8.src = "image1.gif";
                flipped8 = false;
            }
            if (prevNum == 8|| tempNum3 == 8) {
                let card9 = document.getElementById("grid9");
                card9.src = "image1.gif";
                flipped9 = false;
            }
            if (prevNum == 9|| tempNum3 == 9) {
                let card10 = document.getElementById("grid10");
                card10.src = "image1.gif";
                flipped10 = false;
            }
            if (prevNum == 10|| tempNum3 == 10) {
                let card11 = document.getElementById("grid11");
                card11.src = "image1.gif";
                flipped11 = false;
            }
            if (prevNum == 11|| tempNum3 == 11) {
                let card12 = document.getElementById("grid12");
                card12.src = "image1.gif";
                flipped12 = false;
            }
            if (prevNum == 12|| tempNum3 == 12) {
                let card13 = document.getElementById("grid13");
                card13.src = "image1.gif";
                flipped13 = false;
            }
            if (prevNum == 13|| tempNum3 == 13) {
                let card14 = document.getElementById("grid14");
                card14.src = "image1.gif";
                flipped14 = false;
            }
            if (prevNum == 14|| tempNum3 == 14) {
                let card15 = document.getElementById("grid15");
                card15.src = "image1.gif";
                flipped15 = false;
            }
            if (prevNum == 15|| tempNum3 == 15) {
                let card16 = document.getElementById("grid16");
                card16.src = "image1.gif";
                flipped16 = false;
            }
    }

    function display() {
            scoreDisplay = document.getElementById("scoreDisplay");
            scoreDisplay.innerHTML = "Score: " + score + " Flip Counter: " + flipCounter;
    }

//make a text bubble with toad welcoming them to click on any image, saying their score, and a comment based on their score
</script>
<body onload = initialize();>
    <h1> "Welcome to the Mushroom House</h1>
    <img id = "toad" src = "toad.png" height = 292px width = 191.8px>
    <div id = scoreDisplay> Score: </div>
    <div class="grid-container">
        <div class = "grid1" onclick = revealImage(0);><img id = "grid1" src = "image1.gif" height = 211px width= 211px></div>
        <div class = "grid1" onclick = revealImage(1);><img id = "grid2" src = "image1.gif" height = 211px width= 211px></div>
        <div class = "grid1" onclick = revealImage(2);><img id = "grid3" src = "image1.gif" height = 211px width= 211px></div>
        <div class = "grid1" onclick = revealImage(3);><img id = "grid4" src = "image1.gif" height = 211px width= 211px></div>
        <div class = "grid1" onclick = revealImage(4);><img id = "grid5" src = "image1.gif" height = 211px width= 211px></div>
        <div class = "grid1" onclick = revealImage(5);><img id = "grid6" src = "image1.gif" height = 211px width= 211px></div>
        <div class = "grid1" onclick = revealImage(6);><img id = "grid7" src = "image1.gif" height = 211px width= 211px></div>
        <div class = "grid1" onclick = revealImage(7);><img id = "grid8" src = "image1.gif" height = 211px width= 211px></div>
        <div class = "grid1" onclick = revealImage(8);><img id = "grid9" src = "image1.gif" height = 211px width= 211px></div>
        <div class = "grid1" onclick = revealImage(9);><img id = "grid10" src = "image1.gif" height = 211px width= 211px></div>
        <div class = "grid1" onclick = revealImage(10);><img id = "grid11" src = "image1.gif" height = 211px width= 211px></div>
        <div class = "grid1" onclick = revealImage(11);><img id = "grid12" src = "image1.gif" height = 211px width= 211px></div>
        <div class = "grid1" onclick = revealImage(12);><img id = "grid13" src = "image1.gif" height = 211px width= 211px></div>
        <div class = "grid1" onclick = revealImage(13);><img id = "grid14" src = "image1.gif" height = 211px width= 211px></div>
        <div class = "grid1" onclick = revealImage(14);><img id = "grid15" src = "image1.gif" height = 211px width= 211px></div>
        <div class = "grid1" onclick = revealImage(15);><img id = "grid16" src = "image1.gif" height = 211px width= 211px></div>

      </div>
      <div class = "sidebar">
        
      </div>
              
      <!-- <img src = "fireflower.png" height = 211px width = 211px>
      <img src = "iceflower.png" height = 211px width = 211px>
      <img src = "star.png" height = 211px width = 211px>
      <img src = "leaf.png" height = 211px width = 211px>
      <img src = "lifemushroom.png" height = 211px width = 211px>
      <img src = "penguin.png" height = 211px width = 211px>
      <img src = "propeller.png" height = 211px width = 211px>
       -->
</body>
</html>
